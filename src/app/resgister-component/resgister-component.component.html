<div class="card">
  <div class="card-header">
    Sign Up!
  </div>

  <div class="card-body">
    <form
      novalidate
      #resgisterForm="ngForm"
      (ngSubmit)="save(resgisterForm)"
      [appMatch]="[password, confirmPassword]"
    >
      <div class="form-row">
        <div class="form-group col-md-6">
          <label for="firstName1">First Name</label>
          <input
            type="text"
            class="form-control"
            id="firstName"
            placeholder="First Name"
            [(ngModel)]="user.firstName"
            name="firstName"
            required
            minlength="2"
            maxlength="13"
            #firstNameVar="ngModel"
            [ngClass]="{
              'is-invalid':
                (firstNameVar.touched || firstNameVar.dirty) &&
                !firstNameVar.valid
            }"
          />

          <div *ngIf="firstNameVar.invalid" class="invalid-feedback">
            <div *ngIf="firstNameVar.errors.required">
              First Name is required
            </div>
            <div *ngIf="firstNameVar.errors?.minlength">
              The first name must be longer than 2 characters.
            </div>
            <div *ngIf="firstNameVar.errors?.maxlength">
              The first name must be shorter than 13 characters.
            </div>
          </div>
        </div>

        <div class="form-group col-md-6">
          <label for="lastName">Last Name</label>
          <input
            type="text"
            class="form-control"
            id="lastName"
            placeholder="Last Name"
            [(ngModel)]="user.lastName"
            name="lastName"
            required
            #lastNameVar="ngModel"
            minlength="2"
            [ngClass]="{
              'is-invalid':
                (lastNameVar.touched || lastNameVar.dirty) && !lastNameVar.valid
            }"
          />

          <div *ngIf="lastNameVar.invalid" class="invalid-feedback">
            <div *ngIf="lastNameVar.errors.required">
              Last Name is required
            </div>
            <div *ngIf="lastNameVar.errors?.minlength">
              The last name must be longer than 2 characters.
            </div>
          </div>
        </div>
      </div>

      <div class="form-row">
        <div class="form-group col-md-4">
          <label for="inputEmail4">Email</label>
          <input
            type="email"
            class="form-control"
            id="inputEmail4"
            placeholder="Email"
            [(ngModel)]="user.email"
            name="email"
            required
            #email="ngModel"
            minlength="3"
            [ngClass]="{
              'is-invalid': (email.touched || email.dirty) && !email.valid
            }"
          />

          <div *ngIf="email.invalid" class="invalid-feedback">
            <div *ngIf="email.errors.required">
              Email is required
            </div>
            <div *ngIf="email.errors?.minlength">
              The email must be longer than 3 characters.
            </div>
          </div>
        </div>

        <div class="form-group col-md-4">
          <label for="inputPassword4">Password</label>
          <input
            type="password"
            class="form-control"
            id="inputPassword4"
            placeholder="Password"
            [(ngModel)]="user.password"
            name="password"
            required
            #password="ngModel"
            [ngClass]="{
              'is-invalid':
                (password.touched || password.dirty) && !password.valid
            }"
          />
          <div *ngIf="password.invalid" class="invalid-feedback">
            <div *ngIf="password.errors.required">
              Passwor is required
            </div>
          </div>
        </div>

        <div class="form-group col-md-4">
          <label for="inputConfirmPassword">Confirm Password</label>
          <input
            type="password"
            class="form-control"
            id="inputConfirmPassword"
            placeholder="Confirm Password"
            [(ngModel)]="user.confirmPassword"
            name="confirmPassword"
            required
            #confirmPassword="ngModel"
            [ngClass]="{
              'is-invalid':
                (confirmPassword.touched || confirmPassword.dirty) &&
                !confirmPassword.valid
            }"
          />

          <div *ngIf="confirmPassword.invalid" class="invalid-feedback">
            <div *ngIf="confirmPassword.errors.required">
              Confirm password
            </div>
            <div *ngIf="confirmPassword.errors.mustMatch">
              Confirm password
            </div>
          </div>
        </div>
      </div>

      <div class="form-group">
        <label for="inputAddress">Address</label>
        <input
          type="text"
          class="form-control"
          id="inputAddress"
          placeholder="1234 Main St"
          [(ngModel)]="user.address"
          name="address"
        />
      </div>

      <div class="form-group">
        <div class="form-check">
          <input
            class="form-check-input"
            type="checkbox"
            id="gridCheck"
            [(ngModel)]="user.notify"
            name="notify"
          />
          <label class="form-check-label" for="gridCheck">
            Check me out
          </label>
        </div>
      </div>
      <button
        type="submit"
        class="btn btn-success"
        [disabled]="resgisterForm.invalid"
      >
        Submit
      </button>
    </form>
  </div>
</div>

<pre>
    <br />Dirty: {{ resgisterForm.dirty }} <br />Touched: {{ resgisterForm.touched }}
    <br />Valid: {{ resgisterForm.valid }} <br />Value: {{ resgisterForm.value | json }}
    <br /> {{ firstNameVar.errors | json}}
    <br /> {{ confirmPassword.errors | json}}
</pre>
